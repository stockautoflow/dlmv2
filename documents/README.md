# **動画再生・ネットワークログ自動保存ツール**

## **概要**

このツールは、指定されたウェブサイトに自動でログインし、動画を再生して、その際のネットワーク通信ログをHAR形式のファイルとして保存するPythonスクリプトです。

## **主な機能 ✨**

* **自動ログイン**: 設定ファイルに基づき、ウェブサイトへ自動的にログインします。  
* **動画の自動再生**: ログイン後、指定されたページの動画をクリックして再生を開始します。  
* **ネットワークログの保存**: ブラウザの操作中に発生するすべてのネットワーク通信を.harファイルとして保存します。  
* **柔軟な設定**: URL、待機時間、タイムアウト値などを外部設定ファイル (config.json) で一元管理できます。  
* **モジュール化された構造**: 機能ごとにファイルが分割されており、メンテナンスや機能拡張が容易です。

## **ディレクトリ構成 📂**

.  
├── main.py               \# メインスクリプト  
├── login\_actions.py      \# ログイン処理モジュール  
├── video\_actions.py      \# 動画再生処理モジュール  
├── config\_loader.py      \# 設定読み込みモジュール  
├── logger\_setup.py       \# ログ設定モジュール  
|  
├── config.json           \# ツール設定ファイル  
├── credentials.json      \# 認証情報ファイル (要手動設定)  
|  
├── requirements.txt      \# 依存ライブラリ一覧  
├── .gitignore            \# Git管理対象外ファイル設定  
|  
├── network\_log.har       \# (出力) ネットワークログ  
└── debug.log             \# (出力) デバッグログ

## **実行環境**

* Python 3.8 以上

## **セットアップ手順 🚀**

### **1\. ファイルの準備**

このリポジトリのすべてのファイルを、お使いのコンピュータの任意の場所にダウンロードまたはクローンします。

### **2\. 依存ライブラリのインストール**

ターミナル（WindowsではコマンドプロンプトやPowerShell）を開き、ファイルを保存したディレクトリに移動して、以下の2つのコマンドを順番に実行します。

**① 必要なPythonライブラリをインストールします。**

pip install \-r requirements.txt

**② Playwrightが操作するブラウザをインストールします。**

playwright install

### **3\. 認証情報の設定**

credentials.json ファイルをテキストエディタで開き、ご自身のウェブサイトのログイン情報を入力して保存します。

**credentials.json:**

{  
  "username": "あなたのメールアドレス",  
  "password": "あなたのパスワード"  
}

**注意**: このファイルには個人情報が含まれるため、Gitでの共有や第三者への公開は絶対にしないでください。.gitignoreに含まれていますが、取り扱いには十分ご注意ください。

## **実行方法 ▶️**

すべての準備が完了したら、ターミナルで以下のコマンドを実行します。

python main.py

スクリプトが起動し、自動でブラウザ操作が開始されます。

## **出力ファイル 📝**

処理が完了すると、実行したディレクトリに以下のファイルが生成されます。

* **network\_log.har**: 取得したネットワークログ。ChromeのDevToolsなどで読み込んで分析できます。  
* **debug.log**: スクリプトの実行に関する詳細なログ。エラーが発生した際の調査に役立ちます。